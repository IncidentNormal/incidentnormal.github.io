<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Magnetic Field Sensing and Mapping using your Android Smartphone </title> <meta name="description" content="The other day I discovered an app available for Android devices called&nbsp;Tasker, which has been around for awhile and has generated quite it's own little ..."> <link rel="shortcut icon" type="image/png" href="/favicon.png" > <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://incidentnormal.github.io/2013/magnetic-field-sensing-and-mapping/"> <link rel="alternate" type="application/rss+xml" title="IncidentNormal" href="https://incidentnormal.github.io/feed.xml"> <script src="/assets/js/modernizr.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-84671760-1', 'auto'); ga('send', 'pageview'); </script> <script type="text/javascript"> var disqus_shortname = 'incidentnormal'; </script> </head> <body"> <main class="wrapper"> <header class="site-header"> <a href="#navbar" id="menu-burger" class="menu-burger">Menu <span class="nav-icon"></span> <svg x="0px" y="0px" width="54px" height="54px" viewBox="0 0 54 54"> <circle fill="transparent" stroke="#000000" stroke-width="1" cx="27" cy="27" r="25" stroke-dasharray="157 157" stroke-dashoffset="157"></circle> </svg> </a> <div id="navbar" class="navbar"> <div class="navigation-wrapper"> <div class="half-block"> <h1><strong>incident</strong>Normal.<sub>github.io</sub></h1> <h2>Navigation</h2> <nav> <ul class="primary-nav"> <li><a href="/">Home</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/about">About</a></li> <li><a href="https://github.com/IncidentNormal" target="_blank"><i class="icon icon-github"></i> Github</a></li> <li><a href="https://twitter.com" target="_blank"><i class="icon icon-twitter"></i> Twitter</a></li> <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i> RSS</a></li> </ul> </nav> </div> </div> </div> </header> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header intro"> <div class="intro-in"> <h1 class="post-title" itemprop="name headline">Magnetic Field Sensing and Mapping using your Android Smartphone </h1> <em><h2 class="post-subtitle" itemprop="name subtitle"></h2></em> <p class="post-meta">[ <time datetime="2013-10-22T06:57:00+01:00" itemprop="datePublished">Oct 22, 2013</time> ] â€¢ [ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Duncan Tait</span></span> ]</p> </div> </header> <div class="post-content container" itemprop="articleBody"> The other day I discovered an app available for Android devices called&nbsp;<a href="http://tasker.dinglisch.net/" target="_blank">Tasker</a>, which has been around for awhile and has generated quite it's own little corner of the Internet dedicated to swapping tasks, procedures, profiles and scripts.<br /><div><br /></div><div>It's an easy entry point into programming your phone to do things when certain conditions are met. It allows you to firstly set up 'Profiles' - that are conditions or events that Tasker waits and checks for, onto which you can attach 'Tasks', which will be executed when the Profile is triggered. Examples for Profiles include things like receiving a text message, turning on your phone, battery power falling below 10%, connecting to a WiFi network, or even physically entering a certain zone specified using your various location tools (like GPS).</div><div><br /></div><div>The Tasks are then down to you, and your imagination, to conceptualise and then realise (if possible... there are a few niggling limitations, especially if you haven't 'rooted' your phone). A quick google will show you some seriously ingenious hacks to make life easier, as well as some pretty hilariously contrived 'contigency' profiles such as this one from <a href="http://www.reddit.com/r/Android/comments/15cpar/whats_the_coolest_thing_youve_done_with_tasker/" target="_blank">reddit</a>:</div><div><blockquote class="tr_bq"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-large;">"</span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-small;">I have a profile setup so whenever anyone texts me on my t-mobile number (I use google voice as a main line) with a certain phrase it will</span><br /><ol><li><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-small;">mute notifications, max media volume</span></li><li><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-small;">automatically lock the phone</span></li><li><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-small;">put a pin on it (I usually have swipe to unlock)</span></li><li><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-small;">turn on GPS, wait until gps lock, then send a text to the number who originally texted the phone as well as my gvoice number with the phone's location, location speed, accuracy of location, and battery life</span></li><li><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-small;">play an edited audio clip of the phone scene from 'taken'</span></li><li><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-small;">repeatedly send texts every 20 seconds about location stats for half an hour</span></li></ol><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-small;">Another one is shaking my phone to turn on the torch</span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: x-large;">"</span></blockquote>The afterthought there is great. But you get the idea - you can have your phone discreetly text back it's GPS location upon receiving a certain passphrase (to the number that sent it), or even wake up your PC when you enter your house and have it greet you with Spotify playing a certain riddim. Actually the inverse of that is more sensible - have your phone send an HTTP GET to your home network to put all machines to sleep when you lose connection with your home WiFi network and are a certain distance from your house.<br /><br />After some playing around, I started going through the various 'sensors' that you can access on the phone - mine's a Galaxy S3, and there's loads!<br /><br /><span style="background-color: white;"><span style="font-family: inherit;">There's obviously...</span></span><br /><br /><ul><li><span style="background-color: white; font-family: inherit;">GPS (Longitude, Latitude)</span></li></ul><br /><div style="background-color: white;"><span style="font-family: inherit;">then there's:</span><br /><ul><li><span style="font-family: inherit;"><span style="font-family: inherit;">Altitude (GPS + barometer)</span></span></li><li><span style="font-family: inherit;"><span style="font-family: inherit;">Pressure (barometer)</span></span></li><li><span style="font-family: inherit;"><span style="font-family: inherit;">Magnetic field (this one is amazing! See below)</span></span></li><li><span style="font-family: inherit;"><span style="font-family: inherit;">Light sensor (standard one from front camera)</span></span></li><li><span style="font-family: inherit;"><span style="font-family: inherit;">Proximity Sensor (how far an object is from the front camera)</span></span></li><li><span style="font-family: inherit;"><span style="font-family: inherit;">Orientation (accelerometer + gyroscopes etc)</span><span style="background-color: transparent; font-family: inherit;">&nbsp;</span></span></li></ul></div><br /><div style="background-color: white;"><span style="font-family: inherit;">The magnetic field sensor is jokes! You can set it to scan and just walk around the house pointing it at things (note the sensor is in the base of the phone, and as&nbsp;</span>magnetic<span style="font-family: inherit;">&nbsp;fields exist along field lines, the reading will depend on the orientation of the device) - it increases where there are electric cables in the walls etc. so you could totally use it for not drilling through power cables if you're doing a spot of DIY.</span></div><div style="background-color: white;"><span style="font-family: inherit;"><br /></span></div><div style="background-color: white;"><span style="font-family: inherit;">The highest reading I could get were my speakers (not too surprising when you think about it). Ambient levels are about 30mT, inside the oven (closest I could get to a Faraday cage) was 4mT, next to my speakers was 2500mT haha.</span></div><div style="background-color: white;"><span style="font-family: inherit;"><br /></span></div><div style="background-color: white;"><span style="font-family: inherit;">Anyway, I geeked out and basically made a little program that records the magnetic field level, GPS co-ords and altitude every 5 seconds, and walked around the house and down the road to the shops for half an hour, then plotted the results as a 2D contoured colour map - quite interesting! Pointless... But kind of neat. It'd be interesting to have it on for a whole day whilst walking around London - although it absolutely rinses your battery having GPS on constantly.</span></div><div style="background-color: white;"><span style="color: #666666; font-family: inherit;"><br /></span></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-quOc4ctxzoI/UmYQj-WFJAI/AAAAAAAABBQ/AdMJm5QQVmk/s1600/magnetic_field_strength_in_house_200points_201013.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><span style="color: #666666;"><img border="0" src="http://3.bp.blogspot.com/-quOc4ctxzoI/UmYQj-WFJAI/AAAAAAAABBQ/AdMJm5QQVmk/s1600/magnetic_field_strength_in_house_200points_201013.png" height="360" width="640" /></span></a></div><div style="background-color: white;"><span style="font-family: inherit;">So that's the colour map - redness designates a more intense magnetic field, the physical plot is longitude and latitude, altitude was ultimately excluded as it didn't really seem particularly reliable or useful.</span></div><div style="background-color: white;"><span style="font-family: inherit;"><br /></span></div><div style="background-color: white;"><span style="font-family: inherit;">Anyway, there's other cool things you can do with the magnetic field sensor, like if your phone doesn't have NFC and you want it to activate 'car mode' or something when you're in your car, just put a magnet behind the phone 'dock' in the car (something you could presumably easily make and stick to the dashboard so you can see the phone whilst driving), then setup an event trigger that activates car mode when Magnetic Field is over a certain level.</span></div><div style="background-color: white;"><span style="font-family: inherit;"><br /></span></div><div style="background-color: white;"><span style="font-family: inherit;">There's another thing I figured out too - using the proximity sensor you can make it have that air swipe feature to answer the phone that the S4 has.&nbsp;</span></div></div><div style="background-color: white;"><span style="font-family: inherit;"><br /></span></div><div style="background-color: white;"><span style="font-family: inherit;">One final note for the geeks who are still interested: There's a clever way of ascertaining your approximate location without having regular GPS checks that costs valuable battery power. If you walk around for a bit, and have your phone scan for Cell Towers and signal strength in the vicinity, you can use them to then build a Profile where it triangulates your&nbsp;</span>approximate<span style="font-family: inherit;">&nbsp;position (to within 200m), at no extra battery cost. Of course, once you're within a certain zone according to this approximation, you can always tell your phone to then use GPS to really narrow it down. &nbsp;</span></div><div><br /></div><div>Finally, back to the second paragraph of this blog - when I referred to Tasker as an entry point into phone programming. After only a few days, and having realised the potential of the phone as the ultimate hacking tool, I downloaded the Android SDK and in all honesty, if you can do Tasker then you can blatantly do enough Python or Java to write an app with minimal learning. Get ready for the magnetic field reader &amp; logger app coming soon... absolutely pointless and thoroughly interesting ;)</div><div><br /></div><div>Cheers,</div><div>Duncan&nbsp;</div> <hr> <span id="disqus"> <div id="disqus_thread"></div> <script type="text/javascript"> var disqus_identifier = '/2013/magnetic-field-sensing-and-mapping'; var disqus_title = 'Magnetic Field Sensing and Mapping using your Android Smartphone '; var disqus_url = 'https://incidentnormal.github.io/2013/magnetic-field-sensing-and-mapping/'; var disqus_developer = 1; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); </script> <noscript> Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow"> comments powered by Disqus. </a> </noscript> </span> </div> <br> </article> <footer class="site-footer"> <div class="container"> <ul class="social"> <li><a href="https://github.com/IncidentNormal" }target="_blank"><i class="icon icon-github"></i></a></li> <li><a href="https://www.linkedin.com/in/duncantait" target="_blank"><i class="icon icon-linkedin"></i></a></li> <li><a href="https://twitter.com" target="_blank"><i class="icon icon-twitter"></i></a></li> </ul> <p> <b>&copy;</b> <small>2016 All rights reserved. Made by <strong><a href="https://incidentnormal.github.io" target="_blank">incidentnormal</a></strong> using <strong><a href="http://jekyllrb.com/" target="_blank">Jekyll</a></strong>.</small> </p> </div> </footer> </main> <script src="/assets/js/jquery-2.1.1.js"></script> <script src="/assets/js/main.js"></script> <script id="dsq-count-scr" src="//incidentnormal.disqus.com/count.js" async></script> </body> </html><!-- by incidentnormal -->