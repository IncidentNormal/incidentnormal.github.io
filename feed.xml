<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>IncidentNormal</title>
    <description>Blog / Proof of Concept deployment - a static website generated using Jekyll (with modified dotX theme), and hosted by GitHub.
</description>
    <link>https://incidentnormal.github.io/</link>
    <atom:link href="https://incidentnormal.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Thu, 29 Sep 2016 03:02:36 +0100</pubDate>
    <lastBuildDate>Thu, 29 Sep 2016 03:02:36 +0100</lastBuildDate>
    <generator>Jekyll v2.5.3</generator>
    
      <item>
        <title>OpenVPN Controller for Headless Server, implemented in bash</title>
        <description>&lt;p&gt;Due to growing mistrust of powerful actors within the realm of Cyber Security, and how it is becoming almost impossible to identify &lt;i&gt;any&lt;/i&gt; agencies involved in InfoSec whose mission statement and/or &lt;i&gt;modus operandi&lt;/i&gt; can be considered ethical or serving the interests of the vast majority of Internet users. Unscrupulous surveillance programs are conducted flagrantly by democratically elected Governments who have compromised their core ideologies - those that protect the freedom and the privacy of the individual, as if willfully pushing from their collective minds the horrific lessons history has taught us about such uninhibited surveillance.&lt;/p&gt;

&lt;p&gt;The Internet is too uncomfortable and unpredictable for policymakers - who yearn for some degree of control, or oversight. Simultaneously, the rewards in terms of data haulage are orders of magntiude greater than anything we have historical precedent for. Such power and such fear, tightly coupled - does not bode well for rational decisions being made in good faith by those with power and influence. Nation states, ISPs and other telecommunication behemoths have grown noticeably indistinct from one another - in a kind of augmented Military-Industrial Complex, this is more of a wholesale Communication-Network-Intelligence Complex. In times when we can’t know the extent of these far reaching actions, or their short-medium term consequences in terms of legislation, retrospective investigations and uninformed response to fear. In these kind of times, it seems prudent to take personal, technological control over mitigating the mysterious yet ubiquitous risks to our privacy. Anonymity online is a fabled concept, but simply decreasing your transparency with a small number of changes to how we use the Internet, is arguably eminently worthwhile as it would conceivablely raise the cost of employing dragnet surveillance on you personally into the sorts of regions where it just isn’t worth it. VPNs are a good place to start - and the pre-eminent protocol / tool-suite for connecting to VPNs is arguably OpenVPN. For this reason, it seemed shrewd to create some kind of API or framework for controlling OpenVPN at a higher level - one that enabled the automation of otherwise logistically complicated (and fraught) procedures - such as switching VPN server on the fly, without broadcasting your real IP address at any point during the re-negotiation of the VPN connection.&lt;/p&gt;

&lt;p&gt;The OpenVPN controller script attached below, is implemented in bash - and includes a facility to stop particular services (with checks) for the duration of the connection changeover. In this case, it will stop the transmission-daemon service, before restarting it upon determining a successful connection has been established to the new VPN server. The controller also includes a function designed to be called by cron, which checks the IP address periodically - and if it is found that the connection has dropped / or that the IP address has reverted to the last known real IP address, it will automatically rotate the VPN configuration and connect to a new VPN server.&lt;/p&gt;

&lt;p&gt;Fairly verbose logging is standard in this script, due to the critical nature of the order of operations - it pays to have detailed logs to check during setup.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;big&gt;&lt;big&gt;&lt;code&gt;$HOME/.bash.d/.bash_vpn :&lt;/code&gt;&lt;/big&gt;&lt;/big&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;BASH_HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.bash.d
&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$BASH_HOME&lt;/span&gt;/.bash_geo
&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$BASH_HOME&lt;/span&gt;/.bash_parse

&lt;span class=&quot;nv&quot;&gt;IPLOG_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/.iplog&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;VPN_CONF_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/etc/openvpn&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;VPN_MAIN_CONF_FILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;vpnx.conf&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;VPN_MAIN_CONF_FILE_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPN_CONF_PATH&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPN_MAIN_CONF_FILE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/.iplogcrondebug.log&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;GEOLOC_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/.gloc.log&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/.last_known_natural_ip&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;SXIP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat &lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;SXIP; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

&lt;span class=&quot;nv&quot;&gt;TRDAEMON&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;transmission-daemon&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;TRDAEMONBIN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/bin/&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;TRDAEMON&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;TRUSER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;debian-transmission

&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt; france germany sweden switzerland luxembourg finland nl1 nl2 nl3 italy lithuania poland portugal romania spain coventry london portsmouth &lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;then
    if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$VPN_MAIN_CONF_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;current_vpn_target_path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;readlink &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$VPN_MAIN_CONF_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;current_vpn_file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;basename &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$current_vpn_target_path&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;current_vpn_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;current_vpn_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;%.ovpn&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;arr_count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0

        &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;vpn_entry &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;vpn_entry&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;current_vpn_name&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
                &lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$arr_count&lt;/span&gt; ; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;CURRENT_VPN_INDEX;
                &lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; ; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;CURRENT_VPN_NAME;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
                &lt;span class=&quot;nv&quot;&gt;arr_count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;arr_count &lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

        &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0 ; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;CURRENT_VPN_INDEX;
        &lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt; ; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;CURRENT_VPN_NAME;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;


&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;getExtIp &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;curl -s icanhazip.com&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;storeNaturalExtIpInFile &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;naturalExtIp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getNaturalExtIp&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; -eq 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$naturalExtIp&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt; &lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;0;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;getNaturalExtIp &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;naturalExtIp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;ssh other@machine.on.your.network curl -s icanhazip.com&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;testArgumentIsIPv4Address &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$naturalExtIp&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$naturalExtIp&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;0;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;iplogcron &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ipnow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getExtIp&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

    storeNaturalExtIpInFile
    &lt;span class=&quot;nv&quot;&gt;SXIP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat &lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$SXIP&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;SXIP;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; ::&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ipnow&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; ::&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; Natural IP:[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;SXIP&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;IPLOG_PATH&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;chkvpnargs &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ipnow&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;})&lt;/span&gt; -ne 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;vpnDownMsg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;VPN DOWN:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; IP=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ipnow&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; VPN_INDEX=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; VPN_NAME=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$vpnDownMsg&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$vpnDownMsg&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        forceSwitchVpnConnection;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;vpnOkMsg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;VPN OK:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; IP=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ipnow&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; VPN_INDEX=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; VPN_NAME=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$vpnOkMsg&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;parseForceSwitchArgs &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;changeIndex

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -eq 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;testArgumentIsNumeric &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
            &lt;span class=&quot;nv&quot;&gt;changeIndex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
            &lt;span class=&quot;nv&quot;&gt;inputArg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;CLEANSTRING&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;sanitizeArgument &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;inputArg&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;element_index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getElementIndex &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$CLEANSTRING&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; -eq 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
                &lt;span class=&quot;nv&quot;&gt;changeIndex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$element_index&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
                &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &amp;gt; &amp;gt; &amp;gt; INPUT [&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$CLEANSTRING&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] INVALID CHOICE :: Choose value from [&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] &amp;lt; &amp;lt; &amp;lt;&quot;&lt;/span&gt;;
                &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
            &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$changeIndex&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$changeIndex&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; -eq 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
                &lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; ; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;CURRENT_VPN_INDEX ; &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &amp;gt; &amp;gt; &amp;gt; CHANGING VPN TO [&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$changeIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] :: index [&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$changeIndex&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] &amp;gt; &amp;gt; &amp;gt;&quot;&lt;/span&gt;;
            &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$changeIndex&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; -lt &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
                &lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$changeIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; ; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;CURRENT_VPN_INDEX ; &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &amp;gt; &amp;gt; &amp;gt; CHANGING VPN TO [&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$changeIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] :: index [&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$changeIndex&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] &amp;gt; &amp;gt; &amp;gt;&quot;&lt;/span&gt;;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
                &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &amp;gt; &amp;gt; &amp;gt; INDEX [&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$changeIndex&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] OUT OF RANGE :: CHOOSE VALUE FROM 0 TO &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &amp;lt; &amp;lt; &amp;lt;&quot;&lt;/span&gt;;
                &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
            &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;0;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;forceSwitchVpnConnection &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;numArgs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;calledByUser
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;calledStateCode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;ps -o &lt;span class=&quot;nv&quot;&gt;stat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; -p &lt;span class=&quot;nv&quot;&gt;$$&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;amp;&amp;gt;/dev/null

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$calledStateCode&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;~ .&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\+&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$numArgs&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; -eq 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;calledByUser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;true&quot;&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;nextVpnIndex;

        &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt; -ne &lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;nextVpnIndex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;nextVpnIndex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0;

        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &amp;gt; &amp;gt; &amp;gt; CHANGING VPN TO [&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nextVpnIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] :: index [&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nextVpnIndex&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] &amp;gt; &amp;gt; &amp;gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$numArgs&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$numArgs&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; -gt 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        parseForceSwitchArgs &lt;span class=&quot;nv&quot;&gt;$@&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt; -ne 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then
            return &lt;/span&gt;1;
        &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

        &lt;span class=&quot;nv&quot;&gt;calledByUser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;true&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; FORCE SWITCH VPN CONNECTION&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: *** Enter vpnRotateConfig&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    vpnRotateConfig;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: *** Enter vpnReload&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;vpnReload&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; SUCCESS *** vpnReload returned 0, so we can start &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TRDAEMON&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; again&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        sudo service &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TRDAEMON&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; start &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 2&amp;gt;&amp;amp;1;

        &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;extIp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getExtIp&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;geoLocMsg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;New VPN Location: &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getGeoLocFromIp &lt;span class=&quot;nv&quot;&gt;$extIp&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: [IP Address: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$extIp&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$geoLocMsg&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$calledByUser&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;true&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$geoLocMsg&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;stopTransmissionDaemon &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0

    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$retval&lt;/span&gt; -gt 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: *** Enter isServiceRunning: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TRDAEMON&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; ... count = &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$counter&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;isServiceRunning &lt;span class=&quot;nv&quot;&gt;$TRDAEMON&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; isServiceRunning returned 0 (not running) - so now we return 0&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
            &lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$counter&lt;/span&gt; -gt 4 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; isServiceRunning returned 1 (running) 5 times in a row - so now we return 1&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
            &lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; isServiceRunning returned 1 (running) - so we try to stop &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TRDAEMON&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; and then sleep for 1 second (count = &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$counter&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;)&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

            sudo service &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TRDAEMON&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; stop &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 2&amp;gt;&amp;amp;1;
            sleep 1;

            &lt;span class=&quot;nv&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;counter &lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$retval&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;vpnReload &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: *** Enter stopTransmissionDaemon&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;nv&quot;&gt;stopTDResult&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;stopTransmissionDaemon&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: --- Leaving stopTransmissionDaemon. retval = &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$stopTDResult&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$stopTDResult&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; stopTransmissionDaemon returned 0 (successfully stoppped) so now we restart openvpn service...&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2;
        &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0;

        &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$retval&lt;/span&gt; -gt 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; Restart openvpn and then wait 10 seconds before checking IP Address (attempt no. &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$counter&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;)&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

            sudo service openvpn restart &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 2&amp;gt;&amp;amp;1;
            sleep 16;

            &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: *** Enter checkvpn [check for non domestic IP Address...]&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;chkvpn&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
                &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; SUCCESS *** IP Address is: [&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getExtIp&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] *** return 0&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
                &lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0;
            &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$counter&lt;/span&gt; -gt 4 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
                &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: ~ ~ ~ FAILURE --- IP Address inaccessible/unchanging [&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$SXIP&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;] after 5 attempts --- return 1&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
                &lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
                sleep 4;
                &lt;span class=&quot;nv&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;counter &lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
            &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

        &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;;

        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$retval&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Check ext IP isnt $SXIP&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Human readable&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;checkvpn &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;SXIP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat &lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;SXIP; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;xip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getExtIp&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$xip&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: *** VPN Momentary Failure - External IP Cannot be Acquired&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$xip&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$SXIP&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: *** VPN Failure - External IP = [&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$xip&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: *** VPN Success - External IP = [&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$xip&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Returns 0 (success) or 1 (fail)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;chkvpn &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;SXIP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat &lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;SXIP; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;xip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getExtIp&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$xip&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$xip&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$SXIP&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;0;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# As above but takes IP argument to compare with&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;chkvpnargs &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;SXIP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat &lt;span class=&quot;nv&quot;&gt;$LAST_NATURAL_IP_FILE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;SXIP; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;xip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$xip&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$SXIP&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;0;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;1;
        &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;vpnRotateConfig &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; CURRENT_VPN_INDEX: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt; ++CURRENT_VPN_INDEX &lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;CURRENT_VPN_INDEX;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt; -eq &lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
            &lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;CURRENT_VPN_INDEX;
        &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; NEW_VPN_INDEX: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        &lt;span class=&quot;nv&quot;&gt;nextVpn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$CURRENT_VPN_INDEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; nextVpn: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nextVpn&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        &lt;span class=&quot;nv&quot;&gt;nextVpnConfPath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPN_CONF_PATH&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;nextVpn&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.ovpn&quot;&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; nextVpnConfPath: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$nextVpnConfPath&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        rm -f &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPN_MAIN_CONF_FILE_PATH&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        ln -s &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;nextVpnConfPath&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VPN_MAIN_CONF_FILE_PATH&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        &lt;span class=&quot;nv&quot;&gt;CURRENT_VPN_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;nextVpn&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;CURRENT_VPN_NAME;

    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;isServiceRunning &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; isServiceRunning? service: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$service&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;ps -ef | grep -v grep | grep &lt;span class=&quot;nv&quot;&gt;$service&lt;/span&gt; | wc -l&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &amp;gt; 0 &lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &amp;gt; &amp;gt; &amp;gt; YES *** &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$service&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; IS running.&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;1;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: ~ ~ ~ NO --- &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$service&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; is NOT running.&quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DEBUG_LOG_FILE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;0;
        &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &amp;gt;&amp;amp;2 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: *** Usage: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &amp;lt;name_of_service&amp;gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;###############################################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#       ALIASES                                                                               #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;###############################################################################################&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;extip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;curl -s icanhazip.com&#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;gextip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;curl freegeoip.net/json/$(extip)&#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;fsvpn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;forceSwitchVpnConnection&#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;big&gt;&lt;big&gt;&lt;code&gt;$HOME/.bash.d/.bash_parse :&lt;/code&gt;&lt;/big&gt;&lt;/big&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#########################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# &amp;gt;&amp;gt;&amp;gt;   .bash_parse                                                     #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#-----------------------------------------------------------------------#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# bash utility functions to aid parsing input / manipulating arrays     #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#########################################################################&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;getElementIndex &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;e
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;arr_count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0

    &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;e &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;:2&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
            &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$arr_count&lt;/span&gt;;
            &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;0;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
            &lt;span class=&quot;nv&quot;&gt;arr_count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;arr_count &lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;sanitizeArgument &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;#-----------------------------------------------------------#&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# NB:        ${string//substring/replacement}               #&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Replace all matches of $substring with $replacement.      #&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;#-----------------------------------------------------------#&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;retval

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -ne 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;nv&quot;&gt;suspectArgument&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;nv&quot;&gt;cleanArgument&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;suspectArgument&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//[^a-zA-Z0-9]/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$cleanArgument&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;0;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;testArgumentIsNumeric &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;retval;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -ne 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; -eq &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; 2&amp;gt; /dev/null
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$retval&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;testArgumentIsIPv4Address &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -ne 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;~ ^[0-9]&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;1,3&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;0-9]&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;1,3&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;0-9]&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;1,3&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;0-9]&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;1,3&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;OIFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$IFS&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;IFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;.&#39;&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;IFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$OIFS&lt;/span&gt;;

        &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[0]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -le 255 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[1]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -le 255 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[2]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -le 255 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[3]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -le 255 &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;retval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$retval&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;big&gt;&lt;big&gt;&lt;code&gt;$HOME/.bash.d/.bash_geo :&lt;/code&gt;&lt;/big&gt;&lt;/big&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;###############################################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#     IP UTILITY FUNCTIONS                                                                    #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;###############################################################################################&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;validip&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;local  &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;local  &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;stat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;~ ^[0-9]&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;1,3&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;0-9]&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;1,3&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;0-9]&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;1,3&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;0-9]&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;1,3&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;OIFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$IFS&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;IFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;.&#39;&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;IFS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$OIFS&lt;/span&gt;;
        &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[0]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -le 255 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[1]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -le 255 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[2]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -le 255 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[3]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -le 255 &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;stat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$stat&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;getWanIp&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;curl -s icanhazip.com&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;###############################################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#     GEOCODING FUNCTIONS                                                                     #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;###############################################################################################&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;getGeoLocFromIp&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;print_lat_lon

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -eq 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;-h&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;validip &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;print_lat_lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -eq 2 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;-l&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;validip &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;print_lat_lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;getGeoLocFromIp (alias: glocip)&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Returns: reverse geocoded city and country of IP address&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Usage: getGeoLocFromIp &amp;lt;valid ipv4 address&amp;gt; [-h] [-l]&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; -h: Print this usage stub&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; -l: Additionally output latitude and longitude&quot;&lt;/span&gt; &amp;gt;&amp;amp;2;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getLatLonFromIp &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;})&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;stat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$stat&lt;/span&gt; -ne 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$stat&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;city_country&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;getCityCountryFromLatLon &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;stat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$stat&lt;/span&gt; -ne 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$stat&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$print_lat_lon&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;city_country&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; [&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;city_country&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;0;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;getLatLonFromIp&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -ne 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;validip &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;Usage: getLatLonFromIp &amp;lt;valid ipv4 address&amp;gt;&quot;&lt;/span&gt; &amp;gt;&amp;amp;2;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;curl -s -m 1 &lt;span class=&quot;s2&quot;&gt;&quot;freegeoip.net/json/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;~ Backend&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;not&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;available &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; ! &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;~ .&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;latitude.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;Failure to access geocoding API; either:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; - Network connectivity is compromised&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; - API calls to freegeoip.net are being blocked&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; - freegeoip.net have changed their API&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Investigate.&quot;&lt;/span&gt; &amp;gt;&amp;amp;2;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; | jq -r &lt;span class=&quot;s1&quot;&gt;&#39;.latitude, .longitude&#39;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; | tr &lt;span class=&quot;s1&quot;&gt;&#39; &#39;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat_lon&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;0;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;getCityCountryFromLatLon&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;latlon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -eq 1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;latlon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -eq 2 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
        &lt;span class=&quot;nv&quot;&gt;latlon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;Usage: getCityCountryFromLatLon {&amp;lt;latitude&amp;gt; &amp;lt;longitude&amp;gt;|&amp;lt;latitude,longitude&amp;gt;}&quot;&lt;/span&gt; &amp;gt;&amp;amp;2;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    mapfile -t city_country &amp;lt; &amp;lt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;curl -G -k --data &lt;span class=&quot;s2&quot;&gt;&quot;latlng=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$latlon&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;amp;sensor=false&quot;&lt;/span&gt; http://maps.googleapis.com/maps/api/geocode/xml 2&amp;gt;/dev/null | xmlstarlet sel -t -v &lt;span class=&quot;s1&quot;&gt;&#39;/GeocodeResponse/result[1]/address_component[type=&quot;political&quot;][type=&quot;country&quot;]/long_name&#39;&lt;/span&gt; -n -t -v &lt;span class=&quot;s1&quot;&gt;&#39;/GeocodeResponse/result[1]/address_component[type=&quot;political&quot;][type=&quot;locality&quot;]/long_name&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;city_country&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; -lt 2 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&quot;Failed to parse geocoding API, either:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; - Network connectivity is compromised&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; - API calls to maps.googleapis.com are being blocked&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; - maps.googleapis.com has changed its API&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Investigate.&quot;&lt;/span&gt; &amp;gt;&amp;amp;2;
        &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;1;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;country&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;city_country&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[0]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;
    &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;city&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;city_country&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[1]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;city&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;country&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;;

    &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;0;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;###############################################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#       ALIASES                                                                               #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;###############################################################################################&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;gloc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;getGeoLocFromIp $(getExtIp)&#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;glocip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;getGeoLocFromIp&#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;latlonip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;getLatLonFromIp&#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;These should all be sourced in your &lt;code&gt;$HOME/.bashrc&lt;/code&gt; or &lt;code&gt;$HOME/.bash_profile&lt;/code&gt; initialisation scripts, for example:&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;big&gt;&lt;big&gt;&lt;code&gt;$HOME/.bashrc :&lt;/code&gt;&lt;/big&gt;&lt;/big&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -d ~/.bash.d &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;;
    . ~/.bash.d/.bash_aliases;
    . ~/.bash.d/.bash_vpn;
    . ~/.bash.d/.bash_parse;
    . ~/.bash.d/.bash_geo;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then, running &lt;code&gt;crontab -e&lt;/code&gt; as a regular user, the cron function in the &lt;code&gt;.bash_vpn&lt;/code&gt; source file can be called (in this example, every 5 minutes) by inserting the following:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;SHELL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin/bash
&lt;span class=&quot;c&quot;&gt;###############################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# m     h       dom     mon     dow     command&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#==============================================================&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# very frequent (every minute or 5)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;/5     &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;       . &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.bash.d/.bash_vpn; iplogcron&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Next, for the script to work completely, a couple of changes need to be made to your &lt;code&gt;sudoers&lt;/code&gt; file, which should always be edited using the &lt;code&gt;visudo&lt;/code&gt; command. Once this editor is opened, the following entries need to be inserted:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;%vpnadmin       &lt;span class=&quot;nv&quot;&gt;ALL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;root&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; NOPASSWD: /usr/sbin/openvpn
%vpnadmin       &lt;span class=&quot;nv&quot;&gt;ALL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;ALL&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; NOPASSWD: /usr/sbin/service openvpn &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
vpnuser         &lt;span class=&quot;nv&quot;&gt;ALL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;ALL&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; NOPASSWD: /usr/sbin/service transmission-daemon &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;%vpnadmin&lt;/code&gt; is a group that must be created - and then &lt;code&gt;vpnuser&lt;/code&gt; is the user who will be running all these scripts, and they must be a member of the &lt;code&gt;%vpnadmin&lt;/code&gt; group, this can be done with the following commands:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;adduser vpnuser
&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;addgroup vpnadmin
&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;usermod -a -G vpnadmin vpnuser&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;We will also need &lt;code&gt;acl&lt;/code&gt; (Access Control List) utilities for manipulating extended attributes of &lt;code&gt;/etc/openvpn&lt;/code&gt; and it’s contents (specifically allowing &lt;code&gt;vpnuser&lt;/code&gt; to access them with elevated privileges). First:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;apt update
&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;apt install acl libacl&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /etc
&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;getfacl --all-effective openvpn
&lt;span class=&quot;c&quot;&gt;# file: openvpn/&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# owner: root&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# group: root&lt;/span&gt;
user::rwx
group::r-x
other::r-x

&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;setfacl -dm group:vpnadmin:rwx /etc/openvpn
&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;setfacl -dm group:vpnadmin:rwx /run/openvpn
&lt;span class=&quot;gp&quot;&gt;root@srv:~# &lt;/span&gt;getfacl --all-effective openvpn
&lt;span class=&quot;c&quot;&gt;# file: openvpn/&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# owner: root&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# group: root&lt;/span&gt;
user::rwx
group::r-x                      &lt;span class=&quot;c&quot;&gt;#effective:r-x&lt;/span&gt;
group:vpnadmin:rwx              &lt;span class=&quot;c&quot;&gt;#effective:rwx&lt;/span&gt;
mask::rwx
other::r-x
default:user::rwx
default:group::r-x              &lt;span class=&quot;c&quot;&gt;#effective:r-x&lt;/span&gt;
default:group:vpnadmin:rwx      &lt;span class=&quot;c&quot;&gt;#effective:rwx&lt;/span&gt;
default:mask::rwx
default:other::r-x&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;At this point, everything is well set up. All that remains to be done is to populate your &lt;code&gt;/etc/openvpn&lt;/code&gt; directory with a set of &lt;code&gt;placename.ovpn&lt;/code&gt; files, where each &lt;code&gt;placename&lt;/code&gt; maps directly to an element from the &lt;code&gt;VPNLIST&lt;/code&gt; array declared at the top of &lt;code&gt;$HOME/.bash.d/.bash_vpn&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;VPNLIST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt; france germany sweden switzerland luxembourg finland nl1 nl2 nl3 italy lithuania poland portugal romania spain coventry london portsmouth &lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;So, for instance, in my &lt;code&gt;/etc/openvpn&lt;/code&gt; directory:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;gp&quot;&gt;dev@srv:/etc/openvpn$ &lt;/span&gt;ls -l
total 84
-rwxrwx--- 1 root    root    2992 Sep  1 02:45 coventry.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:15 finland.ovpn
-rwxrwx--- 1 root    root    3099 Apr 10 02:31 france.ovpn
-rwxrwx--- 1 root    root    3110 Apr 10 02:32 germany.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:38 italy.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:38 lithuania.ovpn
-rwxrwx--- 1 root    root    2992 Sep  1 02:45 london.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:15 luxembourg.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:15 nl1.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:15 nl2.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:16 nl3.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:38 poland.ovpn
-rwxrwx--- 1 root    root    2992 Sep  1 02:46 portsmouth.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:39 portugal.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:39 romania.ovpn
-rwxrwx--- 1 root    root    2992 Jun 25 03:39 spain.ovpn
-rwxrwx--- 1 root    root    2981 Jun  8 04:51 sweden.ovpn
-rwxrwx--- 1 root    root    3014 Jun  8 04:52 switzerland.ovpn
lrwxrwxrwx 1 vpnuser vpnuser   25 Sep 13 19:44 vpnx.conf -&amp;gt; /etc/openvpn/poland.ovpn&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And contained within each of these ovpn files are:&lt;/p&gt;

&lt;default-ul&gt;
&lt;li&gt;&lt;strong&gt;connection parameters&lt;/strong&gt;, including:&lt;/li&gt;
&amp;emsp; &amp;emsp; - &lt;i&gt;cipher&lt;/i&gt;&lt;br /&gt;
&amp;emsp; &amp;emsp; - &lt;i&gt;auth&lt;/i&gt;&lt;br /&gt;
&amp;emsp; &amp;emsp; - &lt;i&gt;auth-user-pass /path/to/vpn.credentials&lt;/i&gt;&lt;br /&gt;
&lt;li&gt;&lt;strong&gt;ca certificate&lt;/strong&gt; (inside &amp;lt;ca&amp;gt; &amp;lt;/ca&amp;gt; tags)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;tls key&lt;/strong&gt; (inside &amp;lt;tls-auth&amp;gt; &amp;lt;/tls-auth&amp;gt; tags)&lt;/li&gt;
&lt;/default-ul&gt;
&lt;p&gt;&lt;br /&gt;Thus each ovpn file is self-contained and contains all necessary information to create the openvpn connection.&lt;/p&gt;

&lt;p&gt;In the Linux shell, you can run:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;fsvpn portugal
 &amp;gt; &amp;gt; &amp;gt; CHANGING VPN TO &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;portugal] :: index &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;12] &amp;gt; &amp;gt; &amp;gt;
New VPN Location: Lisboa, Portugal :: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;IP Address: 94.1.2.3]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Finally, to use the geoCoding / location capabilities, you’ll need to install &lt;code&gt;jq&lt;/code&gt; and &lt;code&gt;xmlstarlet&lt;/code&gt; which are used to parse the API responses:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;sudo apt update
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;sudo apt install jq xmlstarlet&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then try out the functions by themselves:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;gloc
Stockholm, Sweden
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;glocip 8.8.8.8
Mount Hope, United States&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Any questions, just drop a comment below.&lt;/p&gt;

&lt;h1&gt;&amp;#8225;&lt;/h1&gt;
</description>
        <pubDate>Fri, 23 Sep 2016 03:52:53 +0100</pubDate>
        <link>https://incidentnormal.github.io/2016/headless-openvpn-controller-bash/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2016/headless-openvpn-controller-bash/</guid>
        
        
        <category>bash</category>
        
        <category>server</category>
        
        <category>linux</category>
        
        <category>openvpn</category>
        
        <category>scripts</category>
        
        <category>geoip</category>
        
        <category>code</category>
        
        <category>transmission</category>
        
      </item>
    
      <item>
        <title>Messin&#39; with the Syntax Highlighter</title>
        <description>&lt;p&gt;Due to a repeated warning email from github every time I deployed a change to the page; I decided to try and get to the bottom of it.&lt;/p&gt;

&lt;p&gt;The email:&lt;/p&gt;
&lt;blockquote cite=&quot;support@github.com&quot;&gt;
&lt;b&gt;&lt;em&gt;&lt;p&gt;The page build completed successfully, but returned the following warning:
You are attempting to use the &#39;pygments&#39; highlighter, which is currently unsupported on 
GitHub Pages. Your site will use &#39;rouge&#39; for highlighting instead.&lt;/p&gt;
&lt;p&gt;To suppress this warning, change the &#39;highlighter&#39; value to &#39;rouge&#39; in your &#39;_config.yml&#39; 
and ensure the &#39;pygments&#39; key is unset.&lt;/p&gt;&lt;/em&gt;&lt;/b&gt;
&lt;/blockquote&gt;

&lt;p&gt;After adding &lt;code&gt;rouge&lt;/code&gt; to the Gemfile:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;https://rubygems.org&#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:development&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;rake&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;~&amp;gt; 10.4.2&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;sass&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;~&amp;gt; 3.4.10&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;jekyll&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;~&amp;gt; 2.5.3&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;travis&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;~&amp;gt; 1.8&#39;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;rouge&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;~&amp;gt; 2.0.6&#39;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Back to the Linux shell, I ran:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;gem query -i -d -l rouge&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;false&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;sudo gem install rouge; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;; 
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;bundle install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Before editing the &lt;code&gt;_config.yml&lt;/code&gt; file to read as follows:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;na&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;_site&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;sass&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;sass_dir&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;_sass&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;expanded&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# compressed # expanded&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# permalink and highlighter&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;permalink   &lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/:year/:title/&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;markdown    &lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;kramdown&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;highlighter &lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rouge&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Finally, with all this changed - we can re-deploy the site from the shell (or write a &lt;code&gt;deploy.sh&lt;/code&gt; file containing the following):&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;jekyll build
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;HTML_FOLDER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;pwd&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;/_site/
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;git config --global user.email &lt;span class=&quot;s2&quot;&gt;&quot;name@example.com&quot;&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;git config --global user.name &lt;span class=&quot;s2&quot;&gt;&quot;Exemplar II&quot;&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;git remote&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;origin&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;git remote add origin git@github.com:&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;github_username&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;github_username&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;.github.io.git; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;;
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;git init
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;git add --all
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;git commit -m &lt;span class=&quot;s2&quot;&gt;&quot;Deploy Jekyll to GitHub Pages @ (&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;)&quot;&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;dev@srv:~$ &lt;/span&gt;git push origin master&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Apparently, “Jekyll also offers powerful support for code snippets”, lets see:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;random&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnd&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;NUM_INITIAL_NODES&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;NUM_GEN_NODES&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;MEAN_DEGREE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;MU&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.2&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NetworkCreation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nodeList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;edgeList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;createInitialNodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NUM_INITIAL_NODES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nodeList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;createGenNodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NUM_GEN_NODES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NUM_INITIAL_NODES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;createGenEdges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nodeList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;activeList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nodeList&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;active&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aN&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activeList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;rndDeac&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;activeList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;activeList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rndDeac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;active&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;#randomly deactivate one, with variable probabilities.&lt;/span&gt;
            
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;createInitialEdges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N1&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nodeList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N2&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nodeList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;addEdge&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                    &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;edgeList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addEdge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;createGenEdges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;activeList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nodeList&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;active&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;activeList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;rndX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rndX&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rndX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MU&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;rndEdge&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rnd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nodeList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;newEdge&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rndEdge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;edgeList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newEdge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;newEdge&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;edgeList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newEdge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RunMain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Net&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NetworkCreation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;createInitialNodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;createInitialEdges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;edgeList&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;createGenNodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;edgeList&lt;/span&gt;
        
&lt;span class=&quot;n&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RunMain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Radical. Check the following links for more information / further reading:&lt;/p&gt;
&lt;default-ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://jekyllrb.com/docs/home&quot;&gt;[Jekyll docs]&lt;/a&gt; for more info on how to get the most out of Jekyll.&lt;/li&gt;
  &lt;li&gt;File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;[Jekyll’s GitHub repo]&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;[Jekyll Talk]&lt;/a&gt;.&lt;/li&gt;
&lt;/default-ul&gt;
</description>
        <pubDate>Thu, 22 Sep 2016 23:45:53 +0100</pubDate>
        <link>https://incidentnormal.github.io/2016/highlight-test/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2016/highlight-test/</guid>
        
        
        <category>jekyll</category>
        
        <category>syntax</category>
        
        <category>highlighter</category>
        
        <category>rouge</category>
        
        <category>pygments</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>Welcome to Jekyll!</title>
        <description>&lt;p&gt;You’ll find this post in your &lt;code&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;To add new posts, simply add a file in the &lt;code&gt;_posts&lt;/code&gt; directory that follows the convention &lt;code&gt;YYYY-MM-DD-name-of-post.ext&lt;/code&gt; and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Tom&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints &#39;Hi, Tom&#39; to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Check out the &lt;a href=&quot;http://jekyllrb.com/docs/home&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;Jekyll Talk&lt;/a&gt;.&lt;/p&gt;

</description>
        <pubDate>Wed, 21 Sep 2016 19:40:53 +0100</pubDate>
        <link>https://incidentnormal.github.io/2016/welcome-to-jekyll/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2016/welcome-to-jekyll/</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>A Recent Mix :: Renderman&#39;s Rinseout.</title>
        <description>YouTube has come along some leaps and bounds since I neglected it for hosting mixes in favour of Mixcloud 2 years ago. Their new licensing terms &amp;nbsp;mean that&lt;a href=&quot;https://www.youtube.com/watch?v=YQvOpQdqgfA&quot; target=&quot;_blank&quot;&gt; a previous mix of mine which had a 7 minute silent gap in the middle due to an unresolvable copyright claim on the track LTJ Bukem - Music&lt;/a&gt;, now has the track faithfully restored, and the deal is that sometimes there might be adverts.&lt;br /&gt;&lt;br /&gt;Considering Mixcloud loves the adverts whether you pay a subscription or not - I&#39;d contest this is very reasonable. Additionally, if I ever work out a relatively simple way to achieve this, I can whack some video over the top too (not really up for splashing out on Serato Video DJ just yet, however, Serato need to sort out their live streaming capabilities first! ... Rather than releasing a &#39;big update&#39; (v. 1.9.0) of their flagship product Serato DJ - which is just thinly veiled pompery for them pushing some new music subscription service that I shan&#39;t even mention the name of...) in my ever so humble opinion. anyhow.&lt;br /&gt;&lt;br /&gt;So here is a mix more recent than 2015 - hosted in a variety of places, and in a multitude of ways:&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;iframe allowfullscreen=&quot;&quot; class=&quot;YOUTUBE-iframe-video&quot; data-thumbnail-src=&quot;https://i.ytimg.com/vi/xc_4X8qF70s/0.jpg&quot; frameborder=&quot;0&quot; height=&quot;266&quot; src=&quot;https://www.youtube.com/embed/xc_4X8qF70s?feature=player_embedded&quot; width=&quot;320&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;iframe frameborder=&quot;0&quot; height=&quot;120&quot; src=&quot;https://www.mixcloud.com/widget/iframe/?feed=https%3A%2F%2Fwww.mixcloud.com%2FDunx%2Frenderman-rinseout%2F&amp;amp;hide_cover=1&quot; width=&quot;100%&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;br /&gt;And of course, the tracklist:&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt; &lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=0&quot;&gt;00:00&lt;/a&gt; :: Toots &amp; The Mayals - Funky Kingston&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=85&quot;&gt;01:25&lt;/a&gt; :: KOAN Sound - Dynasty&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=178&quot;&gt;02:58&lt;/a&gt; :: Fatboy Slim - Gangster Tripping&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=195&quot;&gt;03:15&lt;/a&gt; :: KOAN Sound - Talk Box (Original Mix)&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=300&quot;&gt;05:00&lt;/a&gt; :: Hybrid - Beachcoma&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=360&quot;&gt;06:00&lt;/a&gt; :: Oasis - Supersonic&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=428&quot;&gt;07:08&lt;/a&gt; :: Rage Against the Machine - Guerrilla Radio&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=565&quot;&gt;09:25&lt;/a&gt; :: A.Skillz &amp; Krafty Kuts - Mini Mix (Edit)&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=820&quot;&gt;13:40&lt;/a&gt; :: The Prodigy - The Day Is My Enemy&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=893&quot;&gt;14:53&lt;/a&gt; :: Van Halen - Don&#39;t Tell Me (What Love Can Do)&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1020&quot;&gt;17:00&lt;/a&gt; :: N-Trance feat. Ricardo da Force - Stayin&#39; Alive (Radio Version)&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1120&quot;&gt;18:40&lt;/a&gt; :: Moby - Bodyrock&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1121&quot;&gt;18:41&lt;/a&gt; :: The Rolling Stones - Sweet Virginia&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1154&quot;&gt;19:14&lt;/a&gt; :: Bee Gees - Night Fever&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1244&quot;&gt;20:44&lt;/a&gt; :: Bong-Ra - Bloody Cenotaph&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1356&quot;&gt;22:36&lt;/a&gt; :: Frank Sinatra - I Get Along Without You Very Well&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1437&quot;&gt;23:57&lt;/a&gt; :: Liquid Tension Experiment - Chewbacca&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1442&quot;&gt;24:02&lt;/a&gt; :: Sam Cooke - Somebody Have Mercy&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1568&quot;&gt;26:08&lt;/a&gt; :: Sigma &amp; DJ Fresh - Cylon&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1655&quot;&gt;27:35&lt;/a&gt; :: System of a Down - Cigaro&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1656&quot;&gt;27:36&lt;/a&gt; :: Bonobo - All in Forms&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1784&quot;&gt;29:44&lt;/a&gt; :: DJ Shadow - Organ Donor&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=1980&quot;&gt;33:00&lt;/a&gt; :: Necro feat. Michael Jackson - Murder Ya Life (Necro Remix)&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=2055&quot;&gt;34:15&lt;/a&gt; :: Yasmin - Thinking About You (Billon Remix)&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=2204&quot;&gt;36:44&lt;/a&gt; :: Wildchild - Renegade Master&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=2371&quot;&gt;39:31&lt;/a&gt; :: deadmau5 - Mr G&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=2495&quot;&gt;41:35&lt;/a&gt; :: Caspa - Cockney Violin&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=2509&quot;&gt;41:49&lt;/a&gt; :: Jammin&#39; - Kinda Funky (Original Mix)&lt;br /&gt;&lt;a href=&quot;https://youtu.be/xc_4X8qF70s?t=2595&quot;&gt;43:15&lt;/a&gt; :: Phaeleh feat. Shammi Pithia - Dark Clouds&lt;br /&gt;  &lt;br /&gt;&lt;/div&gt;</description>
        <pubDate>Wed, 04 May 2016 20:39:00 +0100</pubDate>
        <link>https://incidentnormal.github.io/2016/a-mix-from-yonder/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2016/a-mix-from-yonder/</guid>
        
        <category>bonobo</category>
        
        <category>DJing</category>
        
        <category>dubstep</category>
        
        <category>van halen</category>
        
        <category>bong ra</category>
        
        <category>DnB</category>
        
        <category>MusicSharing</category>
        
        <category>djmix</category>
        
        <category>frank sinatra</category>
        
        <category>cross-genre</category>
        
        <category>koan sound</category>
        
        <category>DJ Shadow</category>
        
        <category>Reggae</category>
        
        
      </item>
    
      <item>
        <title>The X-Files - Babylon</title>
        <description>&lt;h2 style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: x-large;&quot;&gt;&lt;u&gt;The X-Files&lt;/u&gt;&amp;nbsp;&lt;/span&gt;&lt;/h2&gt;&lt;h2 style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;&lt;span style=&quot;font-size: large;&quot;&gt;Season&lt;/span&gt; &lt;/span&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: large;&quot;&gt;Episode&lt;/span&gt; &lt;/span&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;font-size: x-large; font-weight: normal;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt;&lt;h2 style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: x-large;&quot;&gt;&lt;u&gt;Babylon&lt;/u&gt;&lt;/span&gt;&lt;/h2&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;georgia&amp;quot; , &amp;quot;times new roman&amp;quot; , serif;&quot;&gt;Five episodes deep, and still surprisingly unsure what to make of the resurrected X-Files franchise. After the first three episodes, I was mildly disappointed that it was going the way I inwardly predicted - lost, reference-laden, outmoded, awkward in a bad way. The disappointment was capped at mild partly because it was expected, but also partly because I knew I&#39;d be watching them all regardless of any perceived decline in quality or relevance. Nine seasons of stories, tales spun from many kinds of yarn; whose dimensions span orders of magnitude. Narratives ranging from the seemingly throwaway &#39;Monster of the Week&#39; types, to those that wrestled with the dauntingly epic over-arching mythology. A decade of character development and a world so believable it is occasionally unsettling. The ease with which one can imagine our world augmented by the vectors at play in the X-Files&#39; world is just another facet of my unerring admiration of the show. Let&#39;s be honest, I&#39;ve been left with something akin to unconditional love - for a TV show. I think we do give away small pieces of our hearts to great stories, whatever medium or conduit they should be conveyed through, to us.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;georgia&amp;quot; , &amp;quot;times new roman&amp;quot; , serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;georgia&amp;quot; , &amp;quot;times new roman&amp;quot; , serif;&quot;&gt;Last week&#39;s episode (S10E04) - the Band-Aid Nose Man, and this week&#39;s - both demonstrated that there is still great potency in the X-Files as a storytelling platform, to elicit those dusty, mothballed sensations - allusions to real &lt;i&gt;mystery, &lt;/i&gt;followed swiftly by unanticipated and unpretentious wisdom&amp;nbsp;- often in the form of musings about the world at large; yet rarely connected in an obvious way to the story&#39;s subject matter. I can only surmise that Chris Carter et al. know this, and I can only hope that they tap that nebulous, almost transcendental characteristic which defined the X-Files for me, how it effortlessly constructed and presented so many new perspectives on accepted norms, embedded ideas, cognitive as well as social and cultural biases and really just leaving that door to the mysterious and the unknown so close to closed, that only the most subtle of truths and possibilities can cross that interface. I&#39;ll end with two quotes, both from this week&#39;s episode, the first is a quote of a quote - attributed to Albert Einstein, which I think succinctly summarises the element of beauty that can be found within such stories, and the second is scripted dialogue.&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;hr /&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: left;&quot;&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;The most beautiful thing we can experience is the mysterious. It is the source of all true art and all science. He to whom this emotion is a stranger, who can no longer pause to wonder and stand rapt in awe, is as good as dead: his eyes are closed.&lt;/span&gt;&lt;/blockquote&gt;&lt;span style=&quot;font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;&quot;&gt;-&lt;i&gt; Albert Einstein &lt;/i&gt;(&lt;b&gt;&lt;span style=&quot;font-size: x-small;&quot;&gt;Living Philosophies&lt;/span&gt;, &lt;/b&gt;1931)&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;/div&gt;&lt;hr /&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;b style=&quot;font-weight: bold;&quot;&gt;MULDER:&lt;/b&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;I saw things, though, Scully...&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;b&gt;MULDER:&lt;/b&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;Powerful things; I saw deep and unconditional love.&lt;/span&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;b style=&quot;font-family: &#39;courier new&#39;, courier, monospace;&quot;&gt;SCULLY:&lt;/b&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;I saw things, too.&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;/span&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;b&gt;SCULLY:&lt;/b&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;I witnessed unqualified hate; that appears to have no end.&lt;/span&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;b style=&quot;font-family: &#39;courier new&#39;, courier, monospace;&quot;&gt;MULDER:&lt;/b&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Yeah.&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;/span&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;b&gt;MULDER:&lt;/b&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;But how to reconcile the two? The extremes of our nature.&lt;/span&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;b style=&quot;font-family: &#39;courier new&#39;, courier, monospace;&quot;&gt;SCULLY:&lt;/b&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;That’s the question.&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;/span&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;&lt;b&gt;SCULLY:&lt;/b&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: large;&quot;&gt;Maybe the question of our times.&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;hr /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;&lt;span style=&quot;font-size: medium;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;That’s the question.&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;/span&gt;&lt;/b&gt;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: x-large;&quot;&gt;&lt;b&gt;&lt;span style=&quot;font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;&quot;&gt;Maybe the question of our times.&lt;/span&gt;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;blockquote class=&quot;tr_bq&quot; style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;&quot;&gt;&lt;i&gt;-&amp;nbsp;Dana&amp;nbsp;Scully&lt;/i&gt; (&lt;span style=&quot;font-size: x-small;&quot;&gt;&lt;b&gt;The X-Files: Babylon&lt;/b&gt;&lt;/span&gt;, 2016)&lt;/span&gt;&lt;/blockquote&gt;&lt;br /&gt;&lt;hr /&gt;</description>
        <pubDate>Thu, 18 Feb 2016 03:42:00 -0000</pubDate>
        <link>https://incidentnormal.github.io/2016/the-x-files-babylon/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2016/the-x-files-babylon/</guid>
        
        <category>Mulder</category>
        
        <category>Beauty</category>
        
        <category>Einstein</category>
        
        <category>arty</category>
        
        <category>Chris Carter</category>
        
        <category>Mystery</category>
        
        <category>tv show</category>
        
        <category>Scully</category>
        
        <category>The X-Files</category>
        
        
      </item>
    
      <item>
        <title>Clint Smith: How to raise a black son in America</title>
        <description>&lt;div&gt;&lt;div&gt;&lt;a href=&quot;http://ideas.ted.com/my-hopes-dreams-fears-for-my-future-black-son/&quot; target=&quot;_blank&quot;&gt;In a letter to the son he may someday have&lt;/a&gt;, poet &lt;a href=&quot;http://ideas.ted.com/author/clint-smith/&quot; target=&quot;_blank&quot;&gt;Clint Smith&lt;/a&gt; (TED Talk: &lt;a href=&quot;http://www.ted.com/talks/clint_smith_how_to_raise_a_black_son_in_america&quot; target=&quot;_blank&quot;&gt;How to raise a black son in America&lt;/a&gt;) reflects on the lessons he learned as a child and shares his hopes for his future son. Here it is, I urge you to read it no matter who you are.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Son, I want to tell you how difficult it is to tell someone they are both beautiful and endangered. So worthy of life, yet so despised for living. I do not intend to scare you. My father, your grandfather, taught me to follow a certain set of rules before I even knew their purpose. He told me that these rules would not apply to everyone, that they would not even apply to all of my friends. But they were rules to abide by nonetheless. Too many black boys are killed for doing what others give no second thought. Playing our music too loud, wearing a sweatshirt with the hood up, playing with a toy in the park. My father knew these things. He knew that there was no room for error. He knew it was not fair. But he loved me too much not to teach me, to protect me.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I have told you this story before, but it is worth revisiting. Many a Saturday morning, my friends and I would ride bikes throughout the neighbourhood together. The wind chiseled our faces into euphoric naiveté. The scent of breakfast being prepared seeped out from beneath the cracked windows of the shotgun homes that lined our streets. All that we deemed worthy of our attention were the endless possibilities that lay atop our handlebars. Which is to say, we were children. We were a motley crew, an interracial assemblage of young boys that would have made the Disney Channel proud. We dreamed of building tree houses with secret passwords; of fighting dragons effortlessly side-stepping their perilous, fiery breath; of hitting the game-winning shot in stadiums of thousands of people chanting our names. Our ambitions were as far-reaching as the galaxy we had been born into. We were small planets simply attempting to find our orbit.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;On one afternoon, we went to the field where we so often played football — tackle, of course — as we were set on replicating the brawn and bravado that we watched each Sunday on our televisions. This time, however, the field was closed. The fence bolted by a lock that could not be snapped. One friend, whose long, blond hair dangled gently over his eyes, tossed the football to me, and immediately began to climb the fence. I watched him: the ease with which he lifted one foot over another, the indifference of his disposition to the fact that this was an area we were quite clearly not supposed to enter. I remember hearing the soft, distant echo of a police siren. Perhaps a few blocks away. Perhaps headed in a different direction. I couldn’t be sure, but I knew better than to ignore it. He reached the other side, and looked back, beckoning the rest of us to join him. I held the football in my hand, looking at him through the chain link fence between us. It was at this moment I realized how different he and I were, before I had the words to explain them to either him or myself. How he could break a rule without a second thought, whereas for me any mistake might have the most dire of consequences.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I hope to teach you so much of what my father taught me, but I pray that you live in a radically different world from the one that he and I have inherited. I do not envy his task, one that might become my own. I tell you these things because I know how strong and resilient you will be. How you will take their fear and make a fort of this skin, and turn it into a bastion of love against unwarranted inhumanity.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I want you to realize that sometimes it will not be the things the world tells you, but the things it does not tell you. It will be the omissions, rather than the direct affronts that do the most damage. Your textbooks will likely not tell you how Thomas Jefferson thought that blacks were “inferior to the whites in the endowments both of body and mind”; how Franklin Delano Roosevelt’s New Deal left a hole just wide enough for black families to fall through while lifting the rest of the country into the middle class; it will not tell you how the federal government actively prevented black families from purchasing homes in cities across this country; it will not tell you how police departments across this nation are incentivized to see you as a problem, something to be taken care of. They will not tell you these things, and because of that they will expect you to believe that the contemporary reality of our community is of our own doing, that we simply did not work hard enough, that things would be different if we would simply change our attitudes, the way we speak, the way we dress.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;With that said, do not for one moment think you cannot change what exists. This world is a social construction; it can be reconstructed. This world was built; it can be rebuilt. Use everything that you accrue to reimagine the world.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;You are not a mistake. You are not a deficit. You are not something to be eradicated or rendered obsolete. You exist beyond pathology. You come from a lineage of those who built this country. You come from my grandfathers, one who toiled tobacco fields amid the ever-expanding pastures of Mississippi throughout his adolescence, the other who fought a war for a country that would spit at his feet as soon as he put down his gun. You come from grandmothers who dedicated their lives to teaching in communities where the quality of one’s education was subject to the whims of the state. You come from my parents, who both protected me from violence and made me feel whole. You are the manifestation of their unyielding commitment to overcome.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I hope the world you inherit is one in which you may love whomever you choose. I hope you read and write and laugh and sing and dance and build and cry and do all of the things a child should do.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I pray that you never have to stand on the other side of a fence and know that it is a world you cannot enter simply because of your skin.&lt;/div&gt;&lt;/div&gt;</description>
        <pubDate>Tue, 05 May 2015 18:24:00 +0100</pubDate>
        <link>https://incidentnormal.github.io/2015/clint-smith-how-to-raise-black-son-in/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2015/clint-smith-how-to-raise-black-son-in/</guid>
        
        <category>wisdom</category>
        
        <category>equality</category>
        
        <category>humanity</category>
        
        <category>injustice</category>
        
        
      </item>
    
      <item>
        <title>New Mix</title>
        <description>Realised I hadn&#39;t even attempted to record a mix in over 6 months - rectified.&lt;br /&gt;&lt;br /&gt;Note the operative word; &quot;attempt&quot; :)&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;iframe width=&quot;660&quot; height=&quot;360&quot; src=&quot;https://www.mixcloud.com/widget/iframe/?feed=http%3A%2F%2Fwww.mixcloud.com%2FDunx%2Fsuper-sharp-joker%2F&amp;amp;embed_uuid=c7d66a1d-b89b-4d99-8256-1dbf3882f42c&amp;amp;replace=0&amp;amp;hide_cover=1&amp;amp;light=1&amp;amp;stylecolor=fc6c3c&amp;amp;embed_type=widget_standard&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;div style=&quot;clear: both; height: 3px; width: 652px;&quot;&gt;&lt;/div&gt;&lt;p style=&quot;display: block; font-size: 11px; font-family: &#39;Open Sans&#39;, Helvetica, Arial, sans-serif; margin: 0px; padding: 3px 4px; color: rgb(153, 153, 153); width: 652px;&quot;&gt;&lt;a href=&quot;http://www.mixcloud.com/Dunx/super-sharp-joker/?utm_source=widget&amp;amp;amp;utm_medium=web&amp;amp;amp;utm_campaign=base_links&amp;amp;amp;utm_term=resource_link&quot; target=&quot;_blank&quot; style=&quot;color: rgb(252, 108, 60); font-weight: bold;&quot;&gt;Super Sharp Joker&lt;/a&gt;&lt;span&gt; by &lt;/span&gt;&lt;a href=&quot;http://www.mixcloud.com/Dunx/?utm_source=widget&amp;amp;amp;utm_medium=web&amp;amp;amp;utm_campaign=base_links&amp;amp;amp;utm_term=profile_link&quot; target=&quot;_blank&quot; style=&quot;color: rgb(252, 108, 60); font-weight: bold;&quot;&gt;Dunx&lt;/a&gt;&lt;span&gt; on &lt;/span&gt;&lt;a href=&quot;http://www.mixcloud.com/?utm_source=widget&amp;amp;utm_medium=web&amp;amp;utm_campaign=base_links&amp;amp;utm_term=homepage_link&quot; target=&quot;_blank&quot; style=&quot;color: rgb(252, 108, 60); font-weight: bold;&quot;&gt; Mixcloud&lt;/a&gt;&lt;/p&gt;&lt;div style=&quot;clear: both; height: 3px; width: 652px;&quot;&gt;&lt;/div&gt;</description>
        <pubDate>Sat, 31 Jan 2015 19:58:00 -0000</pubDate>
        <link>https://incidentnormal.github.io/2015/new-mix/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2015/new-mix/</guid>
        
        <category>DJing</category>
        
        <category>Music</category>
        
        <category>DnB</category>
        
        <category>mixing</category>
        
        <category>MusicSharing</category>
        
        <category>mix</category>
        
        <category>mashup</category>
        
        
      </item>
    
      <item>
        <title>Harold imparts advice to an Artificial Intelligence in its infancy</title>
        <description>&lt;div style=&quot;orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;&lt;span style=&quot;font-family: Tahoma;&quot;&gt;&lt;i&gt;From TV Show: &quot;Person Of Interest&quot;&amp;nbsp;&lt;/i&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;&lt;span style=&quot;font-family: Tahoma;&quot;&gt;&lt;i&gt;Episode Number: &quot;S04E11&quot;&amp;nbsp;&lt;/i&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;&lt;span style=&quot;font-family: Tahoma;&quot;&gt;&lt;i&gt;Episode Title: &quot;If-Then-Else&quot;&lt;/i&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Tahoma; orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Tahoma; orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;&lt;i&gt;--- Start of scene ---&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;** Harold sits alone at a chess board in Battery Park, New York, on a cold day **&lt;br /&gt;&lt;br /&gt;Man in dark jacket: &amp;nbsp; &amp;nbsp; &quot;Hey, man.&quot;&lt;br /&gt;&lt;br /&gt;Man in dark jacket: &amp;nbsp; &amp;nbsp; &quot;So you wanna play, or what?&quot;&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&quot;Oh, that&#39;s very kind of you, but I&#39;m playing with a friend.&quot;&lt;br /&gt;&lt;br /&gt;Man in dark jacket: &amp;nbsp; &amp;nbsp; &quot;You&#39;ve been sitting here alone for hours, dude.&quot;&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&quot;My friend is a little shy. And somewhat indecisive.&quot;&lt;br /&gt;&lt;br /&gt;** Man in dark jacket walks on **&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;I thought you wanted me to teach you how to play.&quot;&lt;br /&gt;&lt;br /&gt;** Harold looks at his phone, expectantly **&lt;br /&gt;&lt;br /&gt;Phone display: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;gt; _&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Each possible move represents a different game.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;A different universe, in which you make a better move.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;By the second move, there are 72,084 possible games.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;By the third, 9 million.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;By the fourth -- &quot;&lt;br /&gt;&lt;br /&gt;** Phone vibrates **&lt;br /&gt;&lt;br /&gt;Phone display: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;gt; Incoming SMS: &quot;318,000,000,000&quot;&lt;br /&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;gt; REPLY? _&lt;br /&gt;&lt;br /&gt;** Harold nods, puts phone away **&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;--there are more possible games of chess than there are atoms in the universe.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;No one could possibly predict them all, even you.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Which means that that first move can be terrifying.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;It&#39;s the furthest point from the end of the game, there&#39;s a virtually infinite sea of possibilities between you and the other side.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;But it also means that if you make a mistake, there&#39;s a nearly infinite amount of ways to fix it.&quot;&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;So you should simply relax, and play.&quot;&lt;/div&gt;&lt;div style=&quot;font-family: Tahoma; orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Tahoma; orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;** Phone vibrates **&lt;br /&gt;&lt;br /&gt;Phone display: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;gt; Incoming SMS: &quot;f3&quot;&lt;br /&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;gt; REPLY?&amp;nbsp;_&lt;/div&gt;&lt;div style=&quot;font-family: Tahoma; orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Tahoma; orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;** Harold reaches over and moves a pawn one square forward **&lt;/div&gt;&lt;div style=&quot;font-family: Tahoma; orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Tahoma; orphans: 2; text-align: -webkit-auto; widows: 2;&quot;&gt;&lt;i&gt;--- End of scene ---&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;The scene is revisited towards the end of the episode, which shifts the intended purpose of the analogy to become something else:&lt;br /&gt;&lt;br /&gt;&lt;i&gt;--- Start of scene ---&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;** Once again, Harold is in Battery Park, sitting by himself at a chess board **&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Yes, yes, you needn&#39;t rub it in.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;One afternoon and you&#39;re a Grandmaster.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Mind you, you&#39;ll encounter far more capable opponents than me if you go looking.&quot;&lt;br /&gt;&lt;br /&gt;** Phone vibrates **&lt;br /&gt;&lt;br /&gt;Phone display: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;gt; Incoming SMS: &quot;Once again?&quot;&lt;br /&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;gt; REPLY? _&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;No, I don&#39;t think so.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;You asked me to teach you chess and I&#39;ve done that.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;It&#39;s a useful mental exercise.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;And through the years, many thinkers have been fascinated by it.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;But I don&#39;t enjoy playing.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Do you know why not?&quot;&lt;br /&gt;&lt;br /&gt;** Phone vibrates **&lt;br /&gt;&lt;br /&gt;Phone display: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;gt; Incoming SMS: &quot;No&quot;&lt;br /&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;gt; REPLY? _&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Because it was a game that was born during a brutal age, when life counted for little.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;And everyone believed that some people were worth more than others.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Kings and pawns.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;I don&#39;t think that anyone is worth more than anyone else.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;I don&#39;t envy you the decisions you&#39;re going to have to make.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;And one day I&#39;ll be gone, and you&#39;ll have no one to talk to.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;But if you remember nothing else, please remember this.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Chess is just a game.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Real people aren&#39;t pieces.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;And you can&#39;t assign more value to some of them than to others.&quot;&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Not to me.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Not to anyone.&quot;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;People are not a thing that you can sacrifice.&quot;&lt;br /&gt;&lt;br /&gt;Harold: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;The lesson is that anyone who looks on the world as if it was a game of chess deserves to lose.&quot;&lt;br /&gt;&lt;br /&gt;&lt;i&gt;--- End of scene ---&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;</description>
        <pubDate>Thu, 08 Jan 2015 23:01:00 -0000</pubDate>
        <link>https://incidentnormal.github.io/2015/harold-imparts-advice-to-artificial/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2015/harold-imparts-advice-to-artificial/</guid>
        
        <category>person of interest</category>
        
        <category>Theory</category>
        
        <category>artificial intelligence</category>
        
        <category>philosophy</category>
        
        <category>tv show</category>
        
        <category>tv script</category>
        
        
      </item>
    
      <item>
        <title>A dog on a horse</title>
        <description>&lt;a href=&quot;http://4.bp.blogspot.com/-w1W7TOKEWf4/U1VCV65CGWI/AAAAAAAACxk/VrLIq5f8zXA/s1600/2014-04-19+02.05.24.jpg&quot; imageanchor=&quot;1&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://4.bp.blogspot.com/-w1W7TOKEWf4/U1VCV65CGWI/AAAAAAAACxk/VrLIq5f8zXA/s1600/2014-04-19+02.05.24.jpg&quot; height=&quot;480&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;</description>
        <pubDate>Mon, 21 Apr 2014 17:15:00 +0100</pubDate>
        <link>https://incidentnormal.github.io/2014/blog-post/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2014/blog-post/</guid>
        
        <category>arty</category>
        
        
      </item>
    
      <item>
        <title>Building your self-sustainable online empire; for free.</title>
        <description>&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: large;&quot;&gt;Right, forewarning - this post is going to be pretty large. In fact, I&#39;m going to include a contents list to break it down, for your convenience and also so I remember to include everything I&#39;ve discovered over the last couple of weeks :)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;color: #e69138; font-family: inherit; font-size: large;&quot;&gt;&lt;b&gt;&lt;a href=&quot;https://www.blogger.com/blogger.g?blogID=6910652702831455804#yourserver&quot;&gt;Your Server&lt;/a&gt;&lt;/b&gt;&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;u&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Linux.&lt;/span&gt;&lt;/u&gt;&lt;/li&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Why?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;What you&#39;ll need.&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;A spare computer&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Ubuntu 12.04 LTS (for now)&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;An Internet connection&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;How to deploy this beast?&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;li&gt;&lt;u&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Creating your capability; building your toolkit...&lt;/span&gt;&lt;/u&gt;&lt;/li&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;SSH&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Web Server&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;&lt;b&gt;Owncloud &lt;/b&gt;(Your own unlimited Dropbox)&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;What is it. and why do we need it?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Apache2 Web Server&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;MySQL&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;&lt;b&gt;Plex &lt;/b&gt;(Your own Spotify, Netflix and much more)&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Again - what, and why?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Finding all your media, even over the network&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Configurations for use over the Internet, and usage considerations.&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ol&gt;&lt;li&gt;&lt;u&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;The Dynamic IP problem.&lt;/span&gt;&lt;/u&gt;&lt;/li&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;What is the problem?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Solution #1:&amp;nbsp;NoIP.com&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;noip2, the handy IP updating program that runs on your server&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Notifying others of your current IP&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Running a script upon IP address change detected&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Setting permissions with sudoers&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Updating a Google Site, for instance.&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ol&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;color: #e69138; font-family: inherit; font-size: large;&quot;&gt;&lt;b&gt;Your Domain Name&lt;/b&gt;&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;What is a Domain Name?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;What you need to know about DNS.&lt;/span&gt;&lt;/li&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;What is a Hostname?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;A Records&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;CNAME Records&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;MX Records&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Using Windows Live to manage your domain&#39;s email&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;How do I get a free domain name?&lt;/span&gt;&lt;/li&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Why you may consider buying one.&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Where from? (And where not to venture).&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;When is free OK, and how much functionality can I squeeze out of it?&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;color: #e69138; font-family: inherit; font-size: large;&quot;&gt;&lt;b&gt;Security&lt;/b&gt;&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;u&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Transport Layer Security (TLS) formerly known as SSL.&lt;/span&gt;&lt;/u&gt;&lt;/li&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Why?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Why is it so involved? (A brief explanation of the problem and the playing field)&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;li&gt;&lt;u&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Certification.&lt;/span&gt;&lt;/u&gt;&lt;/li&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Self-signed certificates&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;When are they OK to use?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;How to set them up on host machines (it&#39;s quite fiddly)&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;CA Certs&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Tiered system&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Cost (and free trials)&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ol&gt;&lt;li&gt;&lt;u&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Getting a free Certificate.&lt;/span&gt;&lt;/u&gt;&lt;/li&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Comodo&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Proving you control the domain in question&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Getting this to work with &lt;b&gt;Owncloud&lt;/b&gt;&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Configuring Apache2 Web Server&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Multiple certificates&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;color: #e69138; font-family: inherit; font-size: large;&quot;&gt;&lt;b&gt;Drawing it all together; your empire...&lt;/b&gt;&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;No-IP redirect services for pesky URLS (&lt;b&gt;Plex&lt;/b&gt;)&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Linking Google&#39;s Blogger (Blogspot - see this page!) to your domain&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;One homepage to link them all :)&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;color: #e69138; font-family: inherit; font-size: large;&quot;&gt;&lt;b&gt;Future projects and&amp;nbsp;&lt;i&gt;miscellanea&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;What is the best way to spend money if improvements are desired for this system?&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Tips for making it easier, and helpful ISPs.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Maintenance&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;Troubleshooting&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ol&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-family: inherit;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;h2 id=&quot;yourserver&quot;&gt;&lt;b&gt;&lt;span style=&quot;color: #0b5394; font-family: inherit; font-size: x-large;&quot;&gt;Your Server&lt;/span&gt;&lt;/b&gt;&lt;/h2&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;Firstly, we are going to require a server of our very own. This may fly in the face of the current Cloud enamoured Zeitgeist, but there are a few decent reasons why it&#39;s nice to have a bit of your own space on the web. The first reasons are ideological, and the second lot are more pragmatic...&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;So, as we should all know, no right to privacy is really assumed in the security circus that is the Internet right now. I do feel strongly though - about always taking comfort in the knowledge that it could be worse:&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;Dr. Panoctagon&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;Dr.&lt;/span&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;Panoctagon&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;is an extraterrestrial surveillance surgeon from Jupiter who uses space technology and primitive tools to perform&amp;nbsp;medical procedures on his patients and dragnet surveillance of the world&#39;s digital communications, some of whom die as he conducts his rounds, while others are murdered by his careless, barbaric acts.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;Panoctagon&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;also practices as an orthopedic gynecologist&amp;nbsp;and seduces and engages in&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Sexual_intercourse&quot; style=&quot;background: none rgb(255, 255, 255); color: #0b0080; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px; text-decoration: none;&quot; title=&quot;Sexual intercourse&quot;&gt;sexual intercourse&lt;/a&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;&amp;nbsp;with his female patients,&amp;nbsp;&lt;/span&gt;&lt;a class=&quot;mw-redirect&quot; href=&quot;http://en.wikipedia.org/wiki/Nurse&quot; style=&quot;background: none rgb(255, 255, 255); color: #0b0080; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px; text-decoration: none;&quot; title=&quot;Nurse&quot;&gt;nurses&lt;/a&gt;,&amp;nbsp;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;and occasional multi-billion dollar telecommunication giants&lt;/span&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;Panoctagon&lt;/span&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;, who dubs himself the &quot;paramedic indiscretus fetus of the east,&quot; is from&amp;nbsp;&lt;/span&gt;&lt;i style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;the church of the operating room&lt;/i&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;&amp;nbsp;and was born on the planet Jupiter. His physical features include having five eyes, green and silver skin which also changes to blue and brown, a pink-and-white&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Afro&quot; style=&quot;background: none rgb(255, 255, 255); color: #0b0080; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px; text-decoration: none;&quot; title=&quot;Afro&quot;&gt;Afro&lt;/a&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;,&lt;/span&gt;&lt;sup class=&quot;reference&quot; id=&quot;cite_ref-Hess_1-0&quot; style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 11.1999998092651px; line-height: 1; unicode-bidi: -webkit-isolate;&quot;&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Dr._Octagon#cite_note-Hess-1&quot; style=&quot;background: none; color: #0b0080; text-decoration: none; white-space: nowrap;&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;&amp;nbsp;and a brain that glows red, white and blue.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;Panoctagon&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: white; color: #252525; font-family: sans-serif; font-size: 14px; line-height: 22.3999996185303px;&quot;&gt;also states that he can change his face with the press of a button,&amp;nbsp;disappear, and wears a 7XL which has not yet been invented, X Ray sunglasses, hard shoes with razor blades, an airgapped laptop, two encrypted mobile phones, a .Reverse Engineering for Dummies. book, a white suit and a stethoscope.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;Whether it be governmental surveillance, spyware, ad-nets, tradings in personal information, the whole system is in flux (which is not a bad thing in itself). The bad part is if you have stuff you want to keep private, and that you will find no government willing to grant you that privacy - nor will you truly find it in the vestiges of large corporate &#39;free&#39; web services (Dropbox, par exemple) - whose servers sit within a foreign nation. Now, this is probably a case of needless paranoia, but if it were down to me, I&#39;d rather it wasn&#39;t the case. GCHQ may be up to their necks in this dragnet surveillance as much as the NSA, but at least they&#39;re domestic, and data collected thus subject to parliamentary discretion. The things&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&amp;nbsp;about secret domestic surveillance programs that people always seem to conveniently forget are:&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;- only the &quot;good guys&quot; do it&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;- No one ever abuses it.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;- Even if someone abuses it they would never just get a slap on the wrist (maybe just fired, and security clearance revoked) rather than criminal charges.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;- The disincentive for abuse is &quot;patriotism&quot; and no one has ever decided not to be a &quot;patriot&quot;... ever.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;- Absolutely zero people in government seek out power, or have weird ideas about controlling what other people can do or think.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;- No one in the intelligence &quot;community&quot; would ever abuse surveillance to (e.g.) blackmail politicians for funding/votes/more power. Because every single one of them always make 100% perfect moral choices.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;- It&#39;s only used for &quot;threats to national security&quot;... except when it isn&#39;t, but the winning the &quot;War on Drugs&quot;/spying on animal rights activists/making sure domestic companies win bids for foreign contracts/making sure that the correct politicians are re-elected really all fall under the umbrella of &quot;National Security&quot; if you think about it...&lt;/span&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&amp;nbsp;but seriously, this wasn&#39;t supposed to be a massive rant - and at least they handled the&amp;nbsp;&lt;a href=&quot;http://www.telegraph.co.uk/health/nhs/10659147/Patient-records-should-not-have-been-sold-NHS-admits.html&quot; target=&quot;_blank&quot;&gt;publication of medical records&lt;/a&gt;&amp;nbsp;in a righteous way.&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;div&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;Anyway, I think of it as my little part in not&amp;nbsp;wilfully&amp;nbsp;funding and entering into contractual agreement with these&amp;nbsp;foreign data-centres, certainly before the Facebook effect occurs when people suddenly realise they cannot actually function properly in life without their 50GB Dropbox account. As Mikko Hypponen says in &lt;a href=&quot;https://www.youtube.com/watch?v=9CqVYUOjHLw&quot; target=&quot;_blank&quot;&gt;his TED Talk late last year&lt;/a&gt; - it&#39;s all about emergent behaviour. Many small waves. Anyway, the point is that we don&#39;t have to rely on these Cloudy beasts if we don&#39;t want to (if you do - and you&#39;re aware of the facts, then that&#39;s perfectly reasonable).&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;Now onto my second round of points,- the pragmatic reasons to get involved and do this: 1. Everything becomes unlimited (or at least is not charged at a premium) - for instance storage space (Dropbox: 100GB for $99 per User per Year, pretty much the exact price of a brand new 2TB (2000GB) SATA hard drive for your server), and is eminently more&amp;nbsp;configurable&amp;nbsp;and&amp;nbsp;customizable.&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;2. If you&#39;re worried about redundancy, RAID arrays within the server can protect against localised corruption - or geographical redundancy can be achieved by simply synchronising with a machine elsewhere (do a swap with your friend if you like). Or, and this brings me onto a strangely counterintuitive thought to run with for a bit - enter the Cloud at a lower-level.&amp;nbsp;&lt;a href=&quot;http://aws.amazon.com/&quot; target=&quot;_blank&quot;&gt;AWS&lt;/a&gt;&amp;nbsp;has just about every type of service available you could ask for, and plenty that you couldn&#39;t. Admittedly this slightly defeats the &#39;self sustainable&#39; element, but it is effectively still your own realisation of a solution - not part of a centralised system and undoubtedly far cheaper.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;That&#39;s enough opening thoughts though, lets get down to business. I spent the last 2 weeks exploring some of the open source platforms that have the potential to be very powerful in the hands of the individual, to secure their privacy and to make things work a bit better for their own needs. In this blog I will describe what &lt;i&gt;I&lt;/i&gt;&amp;nbsp;did, just as a sort of rough guide to the neighbourhood of these things, and I will make it very simple as&amp;nbsp;a lot&amp;nbsp;of these blogged-guides are so bloody vacuous or assume random knowledge. There are &lt;i&gt;undoubtedly&lt;/i&gt;&amp;nbsp;better ways to do some of these things, and I would appreciate the comments below - but as I say, think of this as a taster of some of the things that are possible (for approximately zero £coin) by simply linking a few clever tools and platforms together. &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-size: small;&quot;&gt;So, what can we use for this server? Do we need to go out any buy a load of components or a shiny new box? Absolutely not. In fact, please don&#39;t. One of the remarkable things about this Brave New digital World we inhabit is that there is alot of spare hardware to be had. In alot of households, there are spare (usually considered broken or obsolete) laptops or even rather ancient PC&#39;s knocking around. The beauty is that for the basic stuff, this Server of yours requires very little in terms of hardware spec. A 10 year old machine that still powers up can suddenly allow you to explore the workings of the space and concepts you&#39;ll be using, and if it the invokes your imagination - it&#39;s very cheap to upgrade by orders of magnitude.&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-size: small;&quot;&gt;If you really have nothing - the one thing I will say is perhaps resist the urge to use your actual computer as the server, for many reasons. Although you can be clever and deploy &lt;i&gt;Virtual Machines&lt;/i&gt;&amp;nbsp;on it to run the server concurrently to your everyday stuff - it&#39;s going to create a &lt;b&gt;huge&lt;/b&gt;&amp;nbsp;collection of possible failure modes. Servers are supposed to be the stoic, reliable, quiet beasts of the computing realm - with minimal software overhead loaded onto them so there&#39;s less to go wrong, and problems much easier to diagnose and solve. There&#39;s also redundancy in the separation of the hardware systems, and security too. So if you are desperate - buy a &lt;strike&gt;Raspberry Pi&amp;nbsp;(&lt;b&gt;RPi&lt;/b&gt;)&lt;/strike&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.raspberrypi.org/products/raspberry-pi-2-model-b/&quot; style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot; target=&quot;_blank&quot;&gt;Raspberry Pi&amp;nbsp;2 (Model B)&lt;/a&gt;&amp;nbsp;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;span style=&quot;font-size: small;&quot;&gt;for around £30. This is a computer. It does everything you need. It&#39;s&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strike style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;not incredibly&lt;/strike&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&amp;nbsp;actually pretty&lt;/span&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&amp;nbsp;well spec&#39;d out; the RPi 2 has 1GB RAM and a&lt;/span&gt;&amp;nbsp;900MHz quad-core ARM Cortex-A7 CPU - which can chug through most simple server tasks without breaking a sweat. P&lt;span style=&quot;font-size: small;&quot;&gt;rovided you can then hook up some storage&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;you&#39;re away. This could be&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;span style=&quot;font-size: small;&quot;&gt;over the network, or via a powered External Hard Drive - but be warned this has the potential to be a rubbish idea if you&#39;re thinking it&#39;d work as a cheap DIY NAS, think instead about remarkably slow transfer and disk I/O speeds, and a premature death for your drive, when you could&#39;ve just plugged it straight into your main computer if you weren&#39;t trying to be all clever about it.&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&amp;nbsp;But more importantly, it&#39;s tiny, look at it.&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-n19Vp0v6f7w/Uw2On1Yad-I/AAAAAAAACnM/6M1hoEvoS_U/s1600/rpiBrev2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://3.bp.blogspot.com/-n19Vp0v6f7w/Uw2On1Yad-I/AAAAAAAACnM/6M1hoEvoS_U/s1600/rpiBrev2.png&quot; height=&quot;297&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;Raspberry Pi Model B (Rev 2.0)&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;Now we have a suitable hardware platform for the software, let&#39;s begin with the software - i.e. the Operating System. It&#39;s going to be &lt;b&gt;Linux.&lt;/b&gt;&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: inherit; font-size: small;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;b style=&quot;color: #0b5394; font-family: inherit; font-size: xx-large;&quot;&gt;Linux&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-family: inherit; font-size: large; font-weight: normal;&quot;&gt;Why?&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;A fairly reasonable question actually, the first answer I&#39;ll give is because it&#39;s free (and free in the good sense - it&#39;s well understood, constantly maintained [providing you choose a sensible distribution, which we will] and free from the ideological shackles of the raison d&#39;être&amp;nbsp;shared by most software in existence: to make money. In short, it&#39;s well loved and looked after). The second is that it&#39;s lightweight and relatively undemanding in terms of power and performance (i.e.&amp;nbsp;it&#39;s &lt;/span&gt;&lt;i style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;efficient&lt;/i&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;, even on older machines that would not support any modern incarnation of Windows).&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;The &lt;i&gt;distribution&lt;/i&gt;&amp;nbsp;of Linux (as there are many different kinds, and of those kinds there are many &lt;i&gt;flavours&lt;/i&gt;, as these crazy kids call them) that we will be using is &lt;/span&gt;&lt;a href=&quot;http://www.ubuntu.com/download/server&quot; target=&quot;_blank&quot;&gt;&lt;b&gt;Ubuntu Server 12.04.4 LTS&lt;/b&gt;&lt;/a&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;.(It&#39;s idiosyncratic named handle is &#39;Lucid Lynx&#39;, if you ever need it). If your hardware supports it, get the 64-bit version, otherwise get the 32-bit one. Most hardware these days will take 64-bit but check your motherboard and chipset to be sure.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;i&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;u&gt;Note:&lt;/u&gt; If using the RPi, you&#39;ll need to install a special ARM version of Linux, as the ARM CPU is not designed to handle x86 or x86-64 instructions natively (what 32 and 64 bit OS&#39;s use respectively). The default RPi distribution; a variant on &lt;a href=&quot;http://www.debian.org/&quot; target=&quot;_blank&quot;&gt;Debian&lt;/a&gt; called&amp;nbsp;&lt;a href=&quot;http://www.raspberrypi.org/downloads&quot; target=&quot;_blank&quot;&gt;Raspbian (Wheezy)&lt;/a&gt; is decent, and the image of the OS you download (usually a .iso, although for the RPi sometimes comes as a .deb package, and sometimes even more&amp;nbsp;confusingly has no filetype extension), should be suffixed with armhf&amp;nbsp;not i386 or amd_64.&amp;nbsp;&lt;/span&gt;&amp;nbsp;&lt;/i&gt;&lt;/blockquote&gt;&lt;span style=&quot;font-family: inherit; font-size: large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: inherit; font-size: large;&quot;&gt;Installation of Ubuntu Server&lt;/span&gt;&lt;br /&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small;&quot;&gt;Either burn the &lt;i&gt;Ubuntu 12.04&lt;/i&gt; distribution to some optical media (e.g. DVD-R) or create a bootable flash drive with it by doing one of the following:&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small;&quot;&gt;If using Windows; get something like&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a href=&quot;http://www.pendrivelinux.com/&quot; style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot; target=&quot;_blank&quot;&gt;PenDriveLinux&lt;/a&gt;&amp;nbsp;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;and follow instructions&lt;/span&gt;&amp;nbsp;&lt;a href=&quot;http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-windows&quot; style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small;&quot;&gt;If using Mac OS X, follow instructions &lt;a href=&quot;http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-mac-osx&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small;&quot;&gt;If using Linux already, follow instructions &lt;a href=&quot;http://www.pendrivelinux.com/multiboot-create-a-multiboot-usb-from-linux/&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt;. &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small; font-weight: normal;&quot;&gt;Insert the optical media or the bootable flash drive into the computer you are about to wipe and turn into an awesome Linux Server, and reboot it/turn it on. Make sure the BIOS is set to boot from either of these devices before the primary hard drive partition with the current OS. BIOS can usually be entered by hammering the DEL button on the keyboard from the moment the power is on (if not, try and read the instructions on screen, as fleeting as they may be).&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small; font-weight: normal;&quot;&gt;Follow &lt;a href=&quot;http://www.ubuntu.com/download/server/install-ubuntu-server&quot; target=&quot;_blank&quot;&gt;these instructions&lt;/a&gt;&amp;nbsp;up to step 6, then:&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small; font-weight: normal;&quot;&gt;When offered whether to install optional modules, select:&lt;/span&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small; font-weight: normal;&quot;&gt;OpenSSH Server&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;LAMP Server&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;Samba File Sever&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;Mail Server&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;Say yes to MySQL and note down the password you give.&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;span style=&quot;font-family: inherit; font-size: large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: inherit; font-size: large;&quot;&gt;Initial Setup&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small;&quot;&gt;Add some users&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;/ul&gt;&lt;span style=&quot;font-family: Courier New, Courier, monospace;&quot;&gt;&lt;span style=&quot;color: lime;&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;color: #666666;&quot;&gt; &lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: lime;&quot;&gt;&lt;span style=&quot;font-family: Courier New, Courier, monospace;&quot;&gt;adduser &lt;/span&gt;&lt;span style=&quot;font-family: Courier New, Courier, monospace;&quot;&gt;mynameisjonas&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #e69138; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&amp;lt;press Return&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;i&gt;Adding user `mynameisjonas&#39; ...&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;i&gt;Adding new group `mynameisjonas&#39; (1006) ...&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;i&gt;Adding new user `mynameisjonas&#39; (1003) with group `mynameisjonas&#39; ...&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;i&gt;Creating home directory `/home/mynameisjonas&#39; ...&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;i&gt;Copying files from `/etc/skel&#39; ...&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;Enter new UNIX password:&lt;/span&gt;&lt;span style=&quot;color: lime; font-family: Courier New, Courier, monospace;&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: white; color: white; font-family: Courier New, Courier, monospace;&quot;&gt;Str0ng_79163-paSs_woRd&lt;/span&gt;&lt;span style=&quot;font-family: Courier New, Courier, monospace;&quot;&gt; &lt;span style=&quot;color: #e69138;&quot;&gt;&amp;lt;press Return&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;Retype new UNIX password:&lt;/span&gt;&lt;span style=&quot;color: lime; font-family: Courier New, Courier, monospace;&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: white; color: white; font-family: Courier New, Courier, monospace;&quot;&gt;Str0ng_79163-paSs_woRd&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&lt;span style=&quot;color: #e69138;&quot;&gt;&amp;lt;press Return&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;i&gt;passwd: password updated successfully&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;i&gt;Changing the user information for mynameisjonas&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;i&gt;Enter the new value, or press ENTER for the default&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;i&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/i&gt;Full Name []:&lt;/span&gt;&lt;span style=&quot;color: lime; font-family: Courier New, Courier, monospace;&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #e69138; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&amp;lt;press Return&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Room Number []:&lt;/span&gt;&lt;span style=&quot;color: lime; font-family: Courier New, Courier, monospace;&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #e69138; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&amp;lt;press Return&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Work Phone []:&lt;/span&gt;&lt;span style=&quot;color: lime; font-family: Courier New, Courier, monospace;&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #e69138; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&amp;lt;press Return&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Home Phone []:&lt;/span&gt;&lt;span style=&quot;color: lime; font-family: Courier New, Courier, monospace;&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #e69138; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&amp;lt;press Return&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Other []:$&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #e69138; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&amp;lt;press Return&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;Is the information correct? [Y/n]&lt;/span&gt;&lt;span style=&quot;color: lime; font-family: Courier New, Courier, monospace;&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: lime; font-family: Courier New, Courier, monospace;&quot;&gt;Y&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #e69138; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&amp;lt;press Return&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small;&quot;&gt;Note that there should be no graphical interface installed, we will be running a headless installation to minimise overheads and potential complications or problems&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: inherit; font-size: large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: inherit; font-size: large;&quot;&gt;SSH&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small;&quot;&gt;Make it a bit more secure by changing SSH port (preferably to a very high value ~20,000+). Also, use &lt;i&gt;fail2ban&lt;/i&gt; to block brute force attempts&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: inherit; font-size: large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: inherit; font-size: large;&quot;&gt;Installation of OwnCloud&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: small;&quot;&gt;Install &lt;/span&gt;&lt;i style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;OwnCloud&lt;/i&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt; initially from the Ubuntu&amp;nbsp;repository, even though this will be an old version; it will ensure the preinstallation of a lot of&amp;nbsp;requisite&amp;nbsp;packages automatically. The latest version of OwnCloud will be installed from the OwnCloud repository itself, later. Run the following in &lt;i&gt;terminal&lt;/i&gt;, either logged into the Server through SSH, or at the physical terminal itself on the machine.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;/ol&gt;&lt;span style=&quot;font-family: Courier New, Courier, monospace;&quot;&gt;&lt;span style=&quot;background-color: #fefdfa;&quot;&gt;&lt;span style=&quot;line-height: 18.200000762939453px;&quot;&gt;&lt;span style=&quot;color: #666666;&quot;&gt;$ sudo apt-get update&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: #666666;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #fefdfa; color: #666666; font-family: Courier New, Courier, monospace; line-height: 18.200000762939453px;&quot;&gt;$ sudo apt-get dist-upgrade&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;background-color: #fefdfa; color: #666666; font-family: Courier New, Courier, monospace; line-height: 18.200000762939453px;&quot;&gt;$ sudo apt-get install owncloud&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Courier New, Courier, monospace;&quot;&gt;&lt;span style=&quot;color: #666666;&quot;&gt;$ wget http://download.opensuse.org/repositories/isv:ownCloud:community/xUbuntu_12.04/Release.key&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;$ sudo apt-key add - &amp;lt; Release.key&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;$ sudo -i&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;$ echo &#39;deb http://download.opensuse.org/repositories/isv:ownCloud:community/xUbuntu_12.04/ /&#39; &amp;gt;&amp;gt; /etc/apt/sources.list.d/owncloud.list&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Trebuchet MS, sans-serif; font-size: small;&quot;&gt;Exit from root:&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #666666; font-family: &#39;Courier New&#39;, Courier, monospace;&quot;&gt;$ exit&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;And now get the latest version of OwnCloud:&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;div&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;$ sudo apt-get update &amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;$ sudo apt-get install owncloud &amp;nbsp;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #666666; font-family: Courier New, Courier, monospace;&quot;&gt;$ sudo chown -R www-data:www-data /var/www/owncloud/&lt;/span&gt;&lt;br /&gt;&lt;b style=&quot;font-family: inherit;&quot;&gt;&lt;span style=&quot;color: #0b5394; font-size: x-large;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/b&gt;&lt;b style=&quot;font-family: inherit;&quot;&gt;&lt;span style=&quot;color: #0b5394; font-size: x-large;&quot;&gt;Configuring Apache2: your own Web Server&amp;nbsp;&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;u style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/u&gt;&lt;span style=&quot;font-family: inherit; font-size: large; font-weight: normal;&quot;&gt;What&#39;s Going On?&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;Apache (specifically, Apache2) is the Web Server chosen by &lt;i&gt;OwnCloud&lt;/i&gt; to deal with all web based (HTTP(S)) transactions encountered by the server.&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;What you&#39;ll need.&lt;/span&gt;&lt;br /&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: white; color: red;&quot;&gt;&lt;b&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;Ok this looks immense, and may well take epic time to write up (certainly at least 2^&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: xx-small;&quot;&gt;kn&lt;/span&gt;&lt;span style=&quot;font-family: &#39;Trebuchet MS&#39;, sans-serif;&quot;&gt;&amp;nbsp;time ^_^). Will add to it in parts :-D.&lt;/span&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: white; color: red;&quot;&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: white; color: red; font-family: Trebuchet MS, sans-serif;&quot;&gt;&lt;b&gt;-D&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;</description>
        <pubDate>Wed, 26 Feb 2014 05:33:00 -0000</pubDate>
        <link>https://incidentnormal.github.io/2014/building-your-self-sustainable-online-empire/</link>
        <guid isPermaLink="true">https://incidentnormal.github.io/2014/building-your-self-sustainable-online-empire/</guid>
        
        <category>sudoers</category>
        
        <category>Linux</category>
        
        <category>TLS</category>
        
        <category>OpenSource</category>
        
        <category>OwnCloud</category>
        
        <category>Web Server</category>
        
        <category>WebApps</category>
        
        <category>Apache</category>
        
        <category>SSL</category>
        
        <category>NoIP</category>
        
        <category>Linux Internals</category>
        
        <category>Plex</category>
        
        <category>Programming</category>
        
        <category>Comodo</category>
        
        <category>Ubuntu</category>
        
        <category>CNAME</category>
        
        <category>A Record</category>
        
        <category>BlogSpot</category>
        
        <category>MX Record</category>
        
        <category>.tk</category>
        
        
      </item>
    
  </channel>
</rss>
